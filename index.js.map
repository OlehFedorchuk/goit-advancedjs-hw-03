{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nconst loaderEl = document.querySelector('.loader');\n\nconst galleryEl = document.querySelector('.gallery');\nlet lightbox;\n\nexport function renderTemplate(data) {\n  const done = data.hits\n\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"card\">\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <ul class=\"description\">\n        <li><p>Likes</p><span>${likes}</span></li>\n        <li><p>View</p><span>${views}</span></li>\n        <li><p>Comments</p><span>${comments}</span></li>\n        <li><p>Download</p><span>${downloads}</span></li>\n      </ul>\n    </li>\n  `\n    )\n    .join('');\n\n  galleryEl.innerHTML = done;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt' });\n  } else {\n    lightbox.refresh();\n  }\n}\nexport function hideLoader() {\n  loaderEl.style.display = 'none';\n}\nexport function showLoader() {\n  loaderEl.style.display = 'block';\n}\n","import { hideLoader, renderTemplate, showLoader } from './render-functions';\nimport iziToast from 'izitoast';\nconst galleryEl = document.querySelector('.gallery');\n\nexport function fetchImages(request) {\n  const { url, key, q, image_type, orientation, safesearch } = request;\n\n  return fetch(\n    `${url}?key=${key}&q=${q}&image_type=${image_type}&orientation=${orientation}&safesearch=${safesearch}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        galleryEl.innerHTML = '';\n        iziToast.show({\n          position: 'topRight',\n          color: 'red',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        renderTemplate(data);\n      }\n    })\n    .catch(error => {\n      throw error;\n    })\n    .finally(() => hideLoader());\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { hideLoader, showLoader } from './js/render-functions';\n\nconst formEl = document.querySelector('#form');\nconst inputFieldEl = document.querySelector('.inputFild');\nconst btnSearchImgEl = document.querySelector('.btnSearchImg');\nbtnSearchImgEl.disabled = true;\nhideLoader();\nconst request = {\n  url: 'https://pixabay.com/api/',\n  key: '52935594-c28acfca0b14dad36f3e3eac1',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nlet searchImg = '';\ninputFieldEl.addEventListener('input', event => {\n  searchImg = event.target.value.trim();\n  if (searchImg === '') {\n    btnSearchImgEl.disabled = true;\n    return;\n  }\n  btnSearchImgEl.disabled = false;\n  request.q = searchImg;\n});\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  if (searchImg === '') {\n    btnSearchImgEl.disabled = true;\n    console.log('Enetr some text!');\n    return;\n  }\n\n  showLoader();\n  fetchImages(request);\n});\n"],"names":["loaderEl","galleryEl","lightbox","renderTemplate","data","done","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","hideLoader","showLoader","fetchImages","request","url","key","q","image_type","orientation","safesearch","response","iziToast","error","formEl","inputFieldEl","btnSearchImgEl","searchImg","event"],"mappings":"6vBAGA,MAAMA,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAEG,SAASC,EAAeC,EAAM,CACnC,MAAMC,EAAOD,EAAK,KAEf,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iBAEKL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,gCAGdC,CAAK;AAAA,+BACNC,CAAK;AAAA,mCACDC,CAAQ;AAAA,mCACRC,CAAS;AAAA;AAAA;AAAA,GAIvC,EACA,KAAK,EAAE,EAEVX,EAAU,UAAYI,EAEjBH,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIW,EAAe,aAAc,CAAE,aAAc,KAAK,CAAE,CAIvE,CACO,SAASC,GAAa,CAC3Bd,EAAS,MAAM,QAAU,MAC3B,CACO,SAASe,GAAa,CAC3Bf,EAAS,MAAM,QAAU,OAC3B,CC/CA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE5C,SAASe,EAAYC,EAAS,CACnC,KAAM,CAAE,IAAAC,EAAK,IAAAC,EAAK,EAAAC,EAAG,WAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAY,EAAGN,EAE7D,OAAO,MACL,GAAGC,CAAG,QAAQC,CAAG,MAAMC,CAAC,eAAeC,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,EACtG,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKpB,GAAQ,CACRA,EAAK,QAAU,GACjBH,EAAU,UAAY,GACtBwB,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,QACE,0EACZ,CAAS,GAEDtB,EAAeC,CAAI,CAE3B,CAAK,EACA,MAAMsB,GAAS,CACd,MAAMA,CACZ,CAAK,EACA,QAAQ,IAAMZ,EAAU,CAAE,CAC/B,CC9BA,MAAMa,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAiB,SAAS,cAAc,eAAe,EAC7DA,EAAe,SAAW,GAC1Bf,IACA,MAAMG,EAAU,CACd,IAAK,2BACL,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEA,IAAIa,EAAY,GAChBF,EAAa,iBAAiB,QAASG,GAAS,CAE9C,GADAD,EAAYC,EAAM,OAAO,MAAM,KAAI,EAC/BD,IAAc,GAAI,CACpBD,EAAe,SAAW,GAC1B,MACD,CACDA,EAAe,SAAW,GAC1BZ,EAAQ,EAAIa,CACd,CAAC,EACDH,EAAO,iBAAiB,SAAUI,GAAS,CAEzC,GADAA,EAAM,eAAc,EAChBD,IAAc,GAAI,CACpBD,EAAe,SAAW,GAC1B,QAAQ,IAAI,kBAAkB,EAC9B,MACD,CAEDd,IACAC,EAAYC,CAAO,CACrB,CAAC"}